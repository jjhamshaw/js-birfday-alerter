<!DOCTYPE HTML>
<html>
<head>
	<link rel="stylesheet" type="text/css" href="">
	<script src="js/jquery.js"></script>
	<script type="text/javascript">

		function Birthday (name, date){
			this.firstName = name;
			this.date = date;
			MM = date.getUTCMonth() + 1; // correcting zero based index
			DD = date.getUTCDate() + 1; // correcting zero based index
			this.MMDD = Number(MM.toString() + DD.toString());
		}

		function Birthdays(){
			this.list = [];
			today = new Date();
			MM = today.getUTCMonth() + 1; // correcting zero based index
			DD = today.getUTCDate() + 1; // correcting zero based index
			todayAsMMDD = Number(MM.toString() + DD.toString());
						
			this.add = function (birthday){ 
				this.list.push(birthday) }
			this.getNext = function (){
				if (this.list.length === 0) {
					alert("No birthdays added fool!")
				}
				else
				{
					var diff = 1231; // Dec 31st
					var nextBday = new Birthday("today", today);

					for (var i = 0; i < this.list.length; i++) {
						var x = this.list[i].MMDD - todayAsMMDD;

						if (x < diff && x > 0) {
							diff = x;
							nextBday = this.list[i];
						};
					};

					return nextBday;
				}
			}
		}
	</script>
	<script type="text/javascript">
		//Test		
		var exampleBirthdays = [
			new Birthday('Nick', new Date(1983, 11, 11)),
			new Birthday('Nobby', new Date(1985, 9, 10)),
			new Birthday('Mum', new Date(1952, 7, 27))
			]

		var b = new Birthdays();
		b.list = exampleBirthdays;

		var nextBirthday = b.getNext();
	</script>
</head>
<body>
	<section id="NextBirthdays">
		<header>
			<h1>Who's Birthday is it next?</h1>
		</header>
		<div id="birthdayDate"></div>
		<div id="birthdayName"></div>
		<script>$("#birthdayDate").text(nextBirthday.date)</script>
		<script>$("#birthdayName").text(nextBirthday.firstName)</script>
  </section>
</body>
</html>

